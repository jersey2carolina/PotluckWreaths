<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Potluck Wreaths - Favorites</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Styles/general.css">
    <link href="https://fonts.googleapis.com/css?family=Dancing+Script:700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-title">
            <h2>Potluck Wreaths</h2>
            <div class="header-row">
                <select id="categoriesDropdown" class="categories-dropdown wide-categories" aria-label="Categories">
                    <option value="">Categories</option>
                    <option value="cross">Crosses</option>
                    <option value="easter">Easter</option>
                    <option value="christmas">Christmas</option>
                    <option value="summer">Summer</option>
                    <option value="religious">Religious</option>
                    <!-- <option value="wreaths">Wreaths</option> -->
                    <!-- <option value="custom">Custom Orders</option> -->
                </select>
            </div>
            <div class="header-actions-row">
                <a href="account.html" class="account-link" title="Login / Sign Up">
                    <span class="account-icon" aria-label="Account">
                        <!-- User SVG icon -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#4a3c2a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="8" r="4"/>
                            <path d="M2 20c0-4 8-6 10-6s10 2 10 6"/>
                        </svg>
                    </span>
                    <span class="account-text">Login / Sign Up</span>
                </a>
                <a href="favorites.html" class="wishlist-link" title="View Wishlist">
                    <span class="wishlist-icon" aria-label="Wishlist">
                        <!-- Heart SVG icon -->
                        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#4a3c2a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 21l7.8-7.8 1-1a5.5 5.5 0 0 0 0-7.8z"/>
                        </svg>
                    </span>
                </a>
                <a href="bag.html" class="cart-link" title="View Cart">
                    <span class="cart-icon" aria-label="Cart">
                        <!-- Simple cart SVG icon -->
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#4a3c2a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="9" cy="21" r="1"/>
                            <circle cx="20" cy="21" r="1"/>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h7.72a2 2 0 0 0 2-1.61L23 6H6"/>
                        </svg>
                    </span>
                </a>
            </div>
        </div>
    </header>
    <div class="custom-section">
        <img class="logo-img" src="images/MCM2.png"/>
    </div>
    <div class="container">
        <h1>Your Favorites</h1>
        <p class="vintage-lead">Here are the wreaths and crafts you've added to your favorites.</p>
        <div id="favorites-list" class="favorites-list"></div>
    </div>
    <footer style="text-align:center; margin-top:2rem; color:#4a3c2a; font-size:1rem;">
    </footer>
    <div class="bottom-bar">
        <a href="homepage.html" class="home-btn" title="Home">Home</a>
        <!-- <a href="wreaths.html" class="wreath-btn" title="Wreaths">Wreaths</a> -->
        <a href="customorder.html" class="customorders-btn" title="Custom Orders">Custom Orders</a>
        <a href="aboutus.html" class="aboutus-btn" title="About Us">About Us</a>
    </div>
    <div class="copyright-bar">
        Copyright Â© 2025 Potluck Wreaths - All Rights Reserved.
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBDZKXcNIYjvsF2PbSg1wqgwagnKmg2gBg",
            authDomain: "potluck-wreaths.firebaseapp.com",
            projectId: "potluck-wreaths",
            storageBucket: "potluck-wreaths.firebasestorage.app",
            messagingSenderId: "113603226735",
            appId: "1:113603226735:web:8f26f3aa93a0674092f19a",
            measurementId: "G-7M8NFJD863"
        };
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        window.auth = auth;

        // Render favorites from localStorage
        function renderFavorites() {
            const favoritesList = document.getElementById('favorites-list');
            favoritesList.innerHTML = '';
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            if (favorites.length === 0) {
                favoritesList.innerHTML = '<div style="color:#b86b36; font-size:1.1rem; margin:2rem 0;">No favorites yet. Add some from the product pages!</div>';
                return;
            }
            favorites.forEach(item => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="product-img" width="180" height="240">
                    <div class="product-info">
                        <div class="product-name">${item.name}</div>
                        <div class="product-price">${item.price}</div>
                        <button class="remove-favorite-btn" data-product="${item.name}">Remove</button>
                    </div>
                `;
                favoritesList.appendChild(card);
            });

            // Remove favorite handler
            favoritesList.querySelectorAll('.remove-favorite-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const name = this.getAttribute('data-product');
                    let favs = JSON.parse(localStorage.getItem('favorites') || '[]');
                    favs = favs.filter(f => f.name !== name);
                    localStorage.setItem('favorites', JSON.stringify(favs));
                    renderFavorites();
                });
            });
        }

        document.addEventListener('DOMContentLoaded', renderFavorites);
    </script>
    <script src="Scripts/general.js"></script>
</body>
</html>
